<apt-breadcrumb [label]="'FILTER.ASSETS' | translate">
  <app-action-bar></app-action-bar>
</apt-breadcrumb>

<div *ngIf="view$ | async as view" class="container-fluid py-4">
  <div class="row">
    <div class="col-12 col-lg-3">
      <app-renewal-filter class="d-block mb-2" (value)="onRenewalChange($event)"></app-renewal-filter>
      <app-price-type-filter class="d-block mb-2" (value)="onPriceTypeChange($event)"></app-price-type-filter>
      <app-asset-action-filter class="d-block mb-2" [value]="view.assetActionValue" (valueChange)="onAssetActionChange($event)"></app-asset-action-filter>
      <app-product-family-filter class="d-block mb-2" (value)="onProductFamilyChange($event)"></app-product-family-filter>
    </div>
    <div class="col-12 col-lg-9">
      <div class="row">
        <div class="col">
          <apt-data-filter [type]="view.assetType" [filterOptions]="advancedFilterOptions" [filterList]="view.advancedFilterList" (filterListChange)="handleAdvancedFilterChange($event)"></apt-data-filter>
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-lg-6">
          <div class="card">
            <div class="card-header">
              <strong class="text-uppercase">assets by price type</strong>
            </div>
            <div class="card-body">
              <apt-chart [data]="view.barChartData" [amountsByStatus]="view?.doughnutChartData" [type]="'bar'" [showLegend]="false"></apt-chart>
            </div>
          </div>
        </div>
        <div class="col-12 col-lg-6">
          <div class="card">
            <div class="card-header">
              <strong class="text-uppercase">asset amounts by price type</strong>
            </div>
            <div class="card-body">
              <apt-chart [data]="view.doughnutChartData" [type]="'doughnut'" [legendPosition]="'right'" [colorPalette]="view.colorPalette"  [labelDataTransform]="'currency'"></apt-chart>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col mt-3">
          <apt-table [type]="view.assetType" [options]="view.tableOptions"></apt-table>
        </div>
      </div>
    </div>
  </div>
</div>
  